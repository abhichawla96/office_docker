<projectcomponents xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" project="ProducerOne" xsi:noNamespaceSchemaLocation="../../schemas/components_XSD.xsd">
  <component breadcrumbsessionparams="agency_id" metaobject="reason_request_lku;requests;req_comments;compititor_appointments;entityRequestsSelfService;" name="addEntityRequests">
    
    <!-- Task Id- SS-009-002-02 Add and Update Contact page - Phase 2 Start-->
    <!-- SS-009-001-01 - Update Agency Location - Phase 2 - Start -->
     <action deltaind="M" name="apprvoveRequests">
     	<actionparam deltaind="I" executionsequence="0" form="Y" name="workflow_assignee" paramid="workflow_assignee" viewparam="Y"/>
     	<workflow deltaind="I" name="selfServiceApproveEmail" seq="2">
	    	<databaseoperation deltaind="I" executionsequence="0" metaobject="requests" name="getRequestTypeName" operation="3" sqlstmt="select case when rrl.display_name is not null then rrl.display_name else rrl.description end as request_type_desc from reason_request_lku rrl , requests_ss rss where rrl.request_reason_id = rss.request_reason_id AND rss.request_ss_id=#request_ss_id#"/>
	    	<databaseoperation deltaind="I" executionsequence="1" metaobject="userprofiles" name="getAgencyAdminApproverEmail" operation="3" sqlstmt="select  e_mail as e_mail,user_name as user_name from userprofiles where user_id=#workflow_assignee#"/>
			<email deltaind="I" eventname="ApproveSelfServiceRequest" executionsequence="2" name="ApproveSelfServiceRequest" workflow="selfServiceWorkFlow" mailto="e_mail"/>
	  	</workflow>
    </action>
   
    <action deltaind="M" name="declineRequests">
      <actionparam deltaind="I" executionsequence="0" form="Y" name="workflow_assignee" paramid="workflow_assignee" viewparam="Y"/>
  <workflow deltaind="I" name="selfServiceApproveEmail" seq="2">
	    	<databaseoperation deltaind="I" executionsequence="1" metaobject="userprofiles" name="getAgencyAdminApproverEmail" operation="3" sqlstmt="select  e_mail as e_mail,user_name as user_name from userprofiles where user_id=#workflow_assignee#"/>
			</workflow>
   </action>
   
   <!-- Phase 2- Bug Id- P2- 084 - Making Attachment Section Mandatory in Upload W9 Doc -->
   <action deltaind="M" name="view">
   <actionparam deltaind="I" executionsequence="0" pre="Y" form="Y" name="attachflag" paramid="attachflag" val="Y"/>
   </action>
   
   <!-- Phase 2- Bug Id- P2- 084 - Making Attachment Section Mandatory in Upload W9 Doc -->
   
   <!-- START - UAT2 Bug Id 0017 - Grey out CBIA Designation -->
   <action deltaind="M" name="view">
   <actionparam deltaind="I" executionsequence="0" pre="Y" form="Y" name="attachflag" paramid="attachflag" val="Y"/>
   <actionparam deltaind="I" executionsequence="0" form="Y" name="greyout_CBIA_AgencyDemoGraphics" paramid="greyout_CBIA_AgencyDemoGraphics" val="Y" post="Y"/>
   </action>
   <!-- END - UAT2 Bug Id 0017 - Grey out CBIA Designation -->
   
   <!-- START - QA2_008_Self Service_Other_Initiate Email Notification -->
   <action deltaind="M" name="submitRequest"> 
   <workflow deltaind="I" name="selfServiceInitiateEmail" seq="9">
     <databaseoperation deltaind="I" executionsequence="0" metaobject="userprofiles" name="getMarketAssistantEmail" operation="3" sqlstmt="select e_mail as e_mail from userprofiles where user_id=#workflow_user#"/>
     <databaseoperation deltaind="I" executionsequence="1" metaobject="agency_master" name="getAgencyName" operation="3" sqlstmt="select name as Agency_Name from agency_master where agency_id = (select agency_id from requests_ss where request_ss_id = #request_ss_id#)"/>
     <email deltaind="I" eventname="InitiateSelfServiceRequest" executionsequence="2" name="InitiateSelfServiceRequest" workflow="selfServiceWorkFlow" mailto="e_mail" objectid="agency_id"/>
   </workflow>
   </action>
   
   
  </component>
</projectcomponents>
